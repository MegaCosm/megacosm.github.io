(window.webpackJsonpMegacosmDoc=window.webpackJsonpMegacosmDoc||[]).push([[19],{288:function(e,t,n){"use strict";var a=n(20),r=n(163),o=n(164),i=n(46),l=n(65),s=n(14),u=n(4),c=n(5),h=n(2),d=n(26),p=n(21),b=n(6),f=n(7),m=n(0),v=n.n(m),m=n(19),g=n(1),y=n(168),j=["autosize","onChange","maxHeight","info","onEnterPress","resize"],m=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).defaultInfo=function(e){if(!e||0===e.length)return null;var t=a.props.info,n="".concat(e.length," / ").concat(t);return e.length<=t?n:new Error(n)},a.state={height:0},a.bindShadow=a.bindShadow.bind(Object(h.a)(a)),a.handleBlur=a.handleBlur.bind(Object(h.a)(a)),a.handleChange=a.handleChange.bind(Object(h.a)(a)),a.handleKeyUp=a.handleKeyUp.bind(Object(h.a)(a)),a.resize=a.resize.bind(Object(h.a)(a)),a.defaultInfo=a.defaultInfo.bind(Object(h.a)(a)),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){Object(d.a)(Object(p.a)(n.prototype),"componentDidMount",this).call(this),this.props.autosize&&this.resize()}},{key:"componentDidUpdate",value:function(e){this.props.autosize&&e.value!==this.props.value&&this.resize(this.props.value)}},{key:"bindShadow",value:function(e){this.shadow=e}},{key:"resize",value:function(e){!e&&""!==e||(this.shadow.value=e);e=this.shadow?this.shadow.scrollHeight:0;this.setState({height:e})}},{key:"handleChange",value:function(e){this.props.onChange(e.target.value),this.props.autosize&&this.resize(e.target.value)}},{key:"handleKeyUp",value:function(e){var t=this.props.onEnterPress;13===e.keyCode&&t&&t(e.target.value,e)}},{key:"handleBlur",value:function(e){var t=e.target.value,n=this.props,a=n.forceChange,n=n.onBlur;n&&n(e),a(t)}},{key:"renderInfo",value:function(){var e=this.props.info,t="number"!=typeof e;if("function"!=typeof e&&t)return null;t=(t?e:this.defaultInfo)(this.props.value);if(!t)return null;e=t instanceof Error,t=e?t.message:t;return v.a.createElement("div",{key:"info",style:{minWidth:"auto"},className:Object(g.r)("bottom-right",e?"error":"tip")},t)}},{key:"render",value:function(){var e=this.props,t=e.autosize,n=(e.onChange,e.maxHeight),a=(e.info,e.onEnterPress,e.resize),r=Object(s.a)(e,j),o=null==r.value?"":r.value,e=this.state.height||"auto",a=t?Object(g.r)("auto-size"):Object(g.r)(a&&"textarea-resize"),n=[v.a.createElement("textarea",Object.assign({},Object(y.a)(r),{key:"t",value:o,className:a,style:{height:e,maxHeight:n,overflow:"auto"},onChange:this.handleChange,onKeyUp:this.handleKeyUp,onBlur:this.handleBlur})),this.renderInfo()];return t&&n.push(v.a.createElement("textarea",{key:"s",ref:this.bindShadow,className:Object(g.r)("shadow"),rows:r.rows,defaultValue:o})),n}}]),n}(m.b);m.defaultProps={rows:4,resize:!1};m=Object(a.compose)(i.a,Object(l.a)({}),Object(r.a)(400),o.a)(m);m.displayName="MegacosmTextarea";t.a=m},308:function(e,t,n){"use strict";var a=n(20),r=n(163),o=n(164),i=n(46),l=n(4),s=n(5),u=n(2),c=n(6),h=n(7),d=n(0),p=n.n(d),d=n(15),b=n.n(d),f=n(288),m=n(66),v=n(70),g=n(1),y=n(40),j=n(30);n=function(e){Object(c.a)(a,e);var n=Object(h.a)(a);function a(e){var t;return Object(l.a)(this,a),(t=n.call(this,e)).state={value:e.value,showTextarea:!1},t.bindContainer=t.bindElement.bind(Object(u.a)(t),"container"),t.bindInput=t.bindElement.bind(Object(u.a)(t),"input"),t.renderInput=t.renderInput.bind(Object(u.a)(t)),t.renderTextarea=t.renderTextarea.bind(Object(u.a)(t)),t.onChange=t.onChange.bind(Object(u.a)(t)),t.onBlur=t.onBlur.bind(Object(u.a)(t)),t.autoFocus=t.autoFocus.bind(Object(u.a)(t)),t.handleFocus=t.handleFocus.bind(Object(u.a)(t)),t.showPop=t.updateShowTextarea.bind(Object(u.a)(t),!0),t.hidePop=t.updateShowTextarea.bind(Object(u.a)(t),!1),t.handleClear=t.onChange.bind(Object(u.a)(t),""),t}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e,t){var n=this.props.value,a=this.state.showTextarea;t.showTextarea!==a&&a&&this.autoFocus(),n!==e.value&&this.setState({value:n})}},{key:"onChange",value:function(e){var t;"function"==typeof(t=this.props.onChange)&&t(e),this.setState({value:e})}},{key:"onBlur",value:function(e){var t=this.props.onBlur;this.hidePop(),"function"==typeof t&&t(e)}},{key:"updateShowTextarea",value:function(e){e&&this.input&&(this.width=Object(j.getParent)(this.input,".".concat(Object(g.l)("input"))).offsetWidth),this.setState({showTextarea:e})}},{key:"handleFocus",value:function(e){var t=this.props.onFocus;"function"==typeof t&&t(e)}},{key:"bindElement",value:function(e,t){this[e]=t}},{key:"autoFocus",value:function(){var e;!this.container||(e=this.container.querySelector(".".concat(Object(g.l)("text-area")," textarea.so-input-auto-size")))&&j.focusElement.end(e)}},{key:"renderTextarea",value:function(){var e=this.state,t=e.showTextarea,n=e.value,a=this.props,r=a.delay,e=a.placeholder,a=a.maxHeight;return t?p.a.createElement("div",{ref:this.bindContainer},p.a.createElement(f.a,{className:Object(g.l)("text-area"),autosize:!0,value:n,rows:1,delay:r,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.handleFocus,placeholder:e,maxHeight:a})):null}},{key:"renderInput",value:function(){var e=this.state.value,t=this.props,n=t.placeholder,t=t.disabled;return p.a.createElement(m.a,{forwardedRef:this.bindInput,placeholder:n,value:function(e){if(!e&&0!==e)return"";var t=String(e).split("\n");return 1<t.length?"".concat(t[0],"..."):String(e)}(e),className:Object(g.l)("input"),onFocus:this.showPop,disabled:t})}},{key:"render",value:function(){var e=this.state,t=e.showTextarea,n=e.value,a=this.props,r=a.width,o=a.style,i=a.className,l=a.bordered,e=a.clearable,a=a.getPopupContainer,l=b()(i,Object(g.l)("_",!l&&"none-bordered")),r=Object.assign({width:r},o),o={width:this.width};return p.a.createElement("div",{className:l,style:r},this.renderInput(),p.a.createElement(v.a,{visible:t,showArrow:!1,className:Object(g.l)("popover"),position:"cover",style:o,getPopupContainer:a},this.renderTextarea()),e&&n?p.a.createElement("div",{className:Object(g.l)("clear"),onClick:this.handleClear},y.a.CloseCircle):null)}}]),a}(p.a.PureComponent);n.defaultProps={bordered:!1};n=Object(a.compose)(i.a,Object(r.a)(400),o.a)(n);n.displayName="MegacosmEditableArea";t.a=n},795:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(486),i=n(487),l=n(45),a=n(796),a=n.n(a),s=Object(l.a)(a.a),u=[{name:"01-base",title:Object(l.a)("Base \n Editablearea displays one line by default, and more than one line is replaced by ..."),component:n(797).default,rawText:n(798)},{name:"02-controlled",title:Object(l.a)("Controlled \n Pass value and onChange props to make the component controlled"),component:n(799).default,rawText:n(800)},{name:"03-container",title:Object(l.a)("Custom container \n use getPopupContainer return target container"),component:n(801).default,rawText:n(802)}];t.default=Object(o.a)(function(e){return r.a.createElement(i.b,Object.assign({},e,{codes:void 0,source:s,examples:u}))})},796:function(e,t){e.exports="# EditableArea\r\n\r\n<example />\r\n\r\n## API\r\n\r\n| Property | Type | Default | Description |\r\n| --- | --- | --- | --- |\r\n| defaultValue | string | none | Set initial value |\r\n| value | string | none | The value passed in when controlled |\r\n| className | string | none | The outermost extension className of a component |\r\n| onChange | (value: string) => void | none | Callback function when the value changes, making the component controlled when set with value |\r\n| style | object | none | The outermost extension style of a component |\r\n| bordered | boolean | false | Whether to show the border |\r\n| disabled | boolean | false | Whether to disable |\r\n| clearable | boolean | true | Whether to show the clear button |\r\n| placeholder | string | none | The same as the native placeholder tag |\r\n| delay | number | 400 | User input triggers the onChange and to check interval, unit: ms. |\r\n| trim | boolean | false | When trim is true, blank characters are automatically deleted when lose focus |\r\n| onBlur | (e: MouseEvent) => void | none | blur event |\r\n| onFocus | (e: MouseEvent) => void | none | focus event |\r\n| maxHeight | number \\| string | - | the maxHeight of the textarea, scroll bars appear after more than | \r\n| getPopupContainer | () => HTMLElement | none | Custom Popover container, override the default behavior which is rendering under the body, () => DOMElement |\r\n| width | number \\| string | none | width of the editablearea |"},797:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(308);t.default=function(){return r.a.createElement(o.a,{bordered:!0,placeholder:"input something"})}},798:function(e,t){e.exports="/**\r\n * - Base\r\n *    -- Editablearea displays one line by default, and more than one line is replaced by ...\r\n */\r\n\r\nimport React from 'react'\r\nimport { EditableArea } from 'megacosm'\r\n\r\nexport default function() {\r\n  return <EditableArea bordered placeholder=\"input something\" />\r\n}\r\n"},799:function(e,t,n){"use strict";n.r(t);var a=n(27),r=n(0),o=n.n(r),i=n(308);t.default=function(){var e=Object(r.useState)(""),t=Object(a.a)(e,2),e=t[0],n=t[1];return o.a.createElement(i.a,{value:e,placeholder:"Input something",onChange:function(e){n(e)},width:400,onBlur:function(){console.log("EditableArea: onBlur")}})}},800:function(e,t){e.exports="/**\r\n * - Controlled\r\n *    -- Pass value and onChange props to make the component controlled\r\n */\r\n\r\nimport React, { useState } from 'react'\r\nimport { EditableArea } from 'megacosm'\r\n\r\nexport default function() {\r\n  const [value, setValue] = useState('')\r\n  return (\r\n    <EditableArea\r\n      value={value}\r\n      placeholder=\"Input something\"\r\n      onChange={val => {\r\n        setValue(val)\r\n      }}\r\n      width={400}\r\n      onBlur={() => {\r\n        console.log('EditableArea: onBlur')\r\n      }}\r\n    />\r\n  )\r\n}\r\n"},801:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(308);t.default=function(){return r.a.createElement("div",{id:"popup-target",style:{height:200,overflow:"auto",position:"relative",padding:10}},r.a.createElement("div",{style:{height:100}}),r.a.createElement(o.a,{bordered:!0,placeholder:"scroll in container",getPopupContainer:function(){return document.querySelector("#popup-target")},maxHeight:100}),r.a.createElement("div",{style:{height:140}}))}},802:function(e,t){e.exports="/**\r\n * - Custom container\r\n *    -- use getPopupContainer return target container\r\n */\r\nimport React from 'react'\r\nimport { EditableArea } from 'megacosm'\r\n\r\nexport default function() {\r\n  return (\r\n    <div id=\"popup-target\" style={{ height: 200, overflow: 'auto', position: 'relative', padding: 10 }}>\r\n      <div style={{ height: 100 }} />\r\n      <EditableArea\r\n        bordered\r\n        placeholder=\"scroll in container\"\r\n        getPopupContainer={() => document.querySelector('#popup-target')}\r\n        maxHeight={100}\r\n      />\r\n      <div style={{ height: 140 }} />\r\n    </div>\r\n  )\r\n}\r\n"}}]);