(window.webpackJsonpMegacosmDoc=window.webpackJsonpMegacosmDoc||[]).push([[52],{1071:function(c,e,t){"use strict";t.r(e);var n=t(0),r=t.n(n),n=t(499),a=t(501),o=t(54),i=t(1072),i=t.n(i),l=Object(o.a)(i.a),s=[{name:"01-base",title:Object(o.a)("Base \n Basic usage for uploading file, the onSuccess's returns will be the onChange params"),component:t(1073).default,rawText:t(1074)},{name:"01-onChange",title:Object(o.a)("Custom result \n The result of the default display is the same as the value stored in the value. If there is a need, you can use the renderResult to handle it yourself."),component:t(1075).default,rawText:t(1076)},{name:"02-image",title:Object(o.a)("Image \n Use Upload.Image to upload and preview images."),component:t(1077).default,rawText:t(1078)},{name:"02-show-image",title:Object(o.a)("Custom result content \n Use renderContent to customize the image results after uploading."),component:t(1079).default,rawText:t(1080)},{name:"03-button",title:Object(o.a)("Button \n Use Upload.Button to show the upload progress of individual files"),component:t(1081).default,rawText:t(1082)},{name:"03-confirm",title:Object(o.a)("Remove Confirm \n Set the removeConfirm property to enable confirmation before deleting"),component:t(1083).default,rawText:t(1084)},{name:"04-validator",title:Object(o.a)("Validator \n Set validator.imageSize to validate the width and height of the image."),component:t(1085).default,rawText:t(1086)},{name:"05-filesize",title:Object(o.a)(" \n Set validator.size to validate the size of the file. This example is 10KB."),component:t(1087).default,rawText:t(1088)},{name:"06-error",title:Object(o.a)("Error \n Set onHttpError to handle exceptions returned by uploading to the server."),component:t(1089).default,rawText:t(1090)},{name:"08-request-a",title:Object(o.a)("Custom Request \n Set request property to use your own XMLHttpRequest."),component:t(1091).default,rawText:t(1092)},{name:"08-request-ignore",title:Object(o.a)(" \n ignore request with request"),component:t(1093).default,rawText:t(1094)},{name:"09-zip",title:Object(o.a)(" \n Zip file and upload."),component:t(1095).default,rawText:t(1096)},{name:"10-defaultValue",title:Object(o.a)("defaultValue \n defaultValue example"),component:t(1097).default,rawText:t(1098)},{name:"11-dragger",title:Object(o.a)("Drag and Drop \n set drop to Drag files to upload."),component:t(1099).default,rawText:t(1100)}];e.default=Object(n.a)(function(e){return r.a.createElement(a.b,Object.assign({},e,{codes:void 0,source:l,examples:s}))})},1072:function(e,t){e.exports="# Upload\r\n\r\n<example />\r\n\r\n## API\r\n\r\n### Upload\r\n\r\n| Property | Type | Default | Description |\r\n| --- | --- | --- | --- |\r\n| accept | string | none | The type of the upload file, same as the standard,See details [accept](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#accept)  |\r\n| action | ((file: File) => string) \\| string | required | The address for uploading |\r\n| children | ReactNode | required | Upload placeholder |\r\n| className | string | none | Extend className |\r\n| defaultValue | any[] | -  | default value |\r\n| headers | object | none | Request headers |\r\n| htmlName | string | none | The filename received by the server. If it is not filled in, use the name. |\r\n| limit | number | 100 | Maximum number of uploaded files |\r\n| disabled | boolean | false | disabled upload action | \r\n| name | string | none | The key access data in the Form  |\r\n| request | (options: object) => void | - | Custom upload method<br /> options: the options of upload |\r\n| onChange | (values: any[]) => void | none | The callback function when the value is changing(Upload successfully, delete)<br />values: Array, the value is the onSuccess returns |\r\n| onSuccess |  (res: string, file: File, data: any, xhr: any) => any | none | The callback function when to upload successfully. The returned result is as the new value. <br />res: the result that the upload interface returns<br />file: selected file<br /> data: the request data<br /> xhr: reponse |\r\n| onHttpError | (xhr: any) => string | none | The callback function when to upload unsuccessfully. The returned result is as the error message. |\r\n| params | object | none | Additional parameters submitted to the server |\r\n| recoverAble | boolean | true | Whether to recover deleted values. |\r\n| renderResult | (data: any) => ReactNode | a => a | Display results |\r\n| validator | object | none | Check file before uploading |\r\n| value | any[] | \\[] | value |\r\n| withCredentials | boolean | false | Whether to take the cookie |\r\n| multiple | boolean | false | Whether multi-select files are supported |\r\n| renderContent | (res: any, value: any, index: number, values: any[]) => ReactNode | - | Custom content of result  | \r\n| validatorHandle | ((error: any, file: File) => boolean) \\| boolean  | true | Whether to handle the case of validation failure, if a function is provided, it is judged by the return value of the function. |\r\n| drop | boolean | false | drop to update |\r\n| filesFilter | (fileList: any[]) => boolean | none | Filter after file selection, users can customize the list of files that need to be uploaded eventually<br />Need to return a new file list |\r\n| onErrorRemove | (xhr: XMLHttpRequest, file: Blob) => void | none | remove update failed callback |\r\n| forceAccept | string | none | After disabled the file type filtering provided by accept, it is mandatory to check the file type, value same as accept |\r\n| showUploadList | boolean | true | show upload list |\r\n| leftHandler | boolean | false | add image handler show left |\r\n\r\n### Upload.Image\r\n\r\n| Property | Type | Default | Description |\r\n| --- | --- | --- | --- |\r\n| children | ReactNode | none | The content of the upload button. It can be empty. |\r\n| leftHandler | boolean | false | Add image view is displayed on the left |\r\n| renderResult | (data: any) => ReactNode | a => a | Return the link address of the url of the image.|\r\n| onErrorRemove | (xhr: XMLHttpRequest, file: Blob) => void | none | remove update failed callback |\r\n| onPreview | (url, value, index, values) => void | none | how to preview the image |\r\n| ignorePreview | boolean | false | ignore image preview |\r\n\r\n### Upload.Button\r\n\r\n| Property | Type | Default | Description |\r\n| --- | --- | --- | --- |\r\n| type | string | primary | options: \\['primary', success', 'info', 'warning', 'danger'\\] |\r\n| placeholder | ReactNode | none | button default content |\r\n| loading | ReactNode | none | content of uploading, will have spin if a string |\r\n\r\n\r\n### UploadOptions \r\n\r\n| Property | Type | Default | Description |\r\n| --- | --- | --- | --- |\r\n| file |  File | - |  the file |\r\n| onLoad | function | - | the event of uploading |\r\n| onError | function | - | the event of upload fail(in props is onHttpError) |\r\n| onProgress | function | - | the event of uploading progress |\r\n| onSuccess | function | - | the event of upload successing |\r\n| params | object | - | the request params |\r\n| onStart | function | - | the event of start upload |\r\n| headers | object | - | the request header |\r\n\r\n### Validator\r\n\r\n| Property | Type | Description |\r\n| --- | --- | --- |\r\n| ext | func(string):Error | Judge the file extension, return the Error when the verification fails. |\r\n| size | func(number):Error | Judge the size of the file and return the Error when the verification fails. |\r\n| imageSize | func(Image):Error | It is only valid for Image to determine the size of images and return the Error when the verification fails. |\r\n| customValidator | func(File):Error | custom validator |\r\n"},1073:function(n,e,t){"use strict";t.r(e),t.d(e,"default",function(){return d});var r=t(3),a=t(4),o=t(5),i=t(6),e=t(0),l=t.n(e),s=t(301),c=t(65),u=t(178),d=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(e){return Object(r.a)(this,n),(e=t.call(this,e)).state={value:[]},e}return Object(a.a)(n,[{key:"render",value:function(){var t=this;return l.a.createElement(s.a,{action:"//jsonplaceholder.typicode.com/posts",accept:"image/*",value:this.state.value,name:"file",onSuccess:function(e,t){return t.name},onChange:function(e){console.log(e),t.setState({value:e})},limit:3,style:{width:300}},l.a.createElement(c.a,null,l.a.createElement(u.a,{name:"upload",style:{marginRight:4}}),"Upload file"))}}]),n}(l.a.Component)},1074:function(e,t){e.exports='/**\r\n * - Base\r\n *    -- Basic usage for uploading file, the onSuccess\'s returns will be the onChange params\r\n\r\n */\r\nimport React from \'react\'\r\nimport { Upload, Button } from \'megacosm\'\r\nimport FontAwesome from \'../Icon/FontAwesome\'\r\n\r\nexport default class extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      value: [],\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Upload\r\n        action="//jsonplaceholder.typicode.com/posts"\r\n        accept="image/*"\r\n        value={this.state.value}\r\n        name="file"\r\n        onSuccess={(res, file) => file.name}\r\n        onChange={v => {\r\n          console.log(v)\r\n          this.setState({ value: v })\r\n        }}\r\n        limit={3}\r\n        style={{ width: 300 }}\r\n      >\r\n        <Button>\r\n          <FontAwesome name="upload" style={{ marginRight: 4 }} />\r\n          Upload file\r\n        </Button>\r\n      </Upload>\r\n    )\r\n  }\r\n}\r\n'},1075:function(n,e,t){"use strict";t.r(e),t.d(e,"default",function(){return d});var r=t(3),a=t(4),o=t(5),i=t(6),e=t(0),l=t.n(e),s=t(301),c=t(65),u=t(178),d=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(e){return Object(r.a)(this,n),(e=t.call(this,e)).state={value:[]},e}return Object(a.a)(n,[{key:"render",value:function(){var t=this;return l.a.createElement(s.a,{action:"//jsonplaceholder.typicode.com/posts",accept:"image/*",value:this.state.value,name:"file",renderResult:function(e){return e.name},onSuccess:function(e,t){return t},onChange:function(e){console.log(e),t.setState({value:e})},limit:3,style:{width:300}},l.a.createElement(c.a,null,l.a.createElement(u.a,{name:"upload",style:{marginRight:4}}),"Upload file"))}}]),n}(l.a.Component)},1076:function(e,t){e.exports='/**\r\n * - Custom result\r\n *    -- The result of the default display is the same as the value stored in the value. If there is a need, you can use the renderResult to handle it yourself.\r\n\r\n */\r\nimport React from \'react\'\r\nimport { Upload, Button } from \'megacosm\'\r\nimport FontAwesome from \'../Icon/FontAwesome\'\r\n\r\nexport default class extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      value: [],\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Upload\r\n        action="//jsonplaceholder.typicode.com/posts"\r\n        accept="image/*"\r\n        value={this.state.value}\r\n        name="file"\r\n        renderResult={f => f.name}\r\n        onSuccess={(res, file) => file}\r\n        onChange={v => {\r\n          console.log(v)\r\n          this.setState({ value: v })\r\n        }}\r\n        limit={3}\r\n        style={{ width: 300 }}\r\n      >\r\n        <Button>\r\n          <FontAwesome name="upload" style={{ marginRight: 4 }} />\r\n          Upload file\r\n        </Button>\r\n      </Upload>\r\n    )\r\n  }\r\n}\r\n'},1077:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(301);t.default=function(){return a.a.createElement(o.a.Image,{drop:!0,action:"//jsonplaceholder.typicode.com/posts",accept:"image/*",name:"file",onSuccess:function(e,t,n){return{data:n}},renderResult:function(e){return e.data},limit:3,onStart:function(e){return console.log(e)}})}},1078:function(e,t){e.exports='/**\r\n * - Image\r\n *    -- Use Upload.Image to upload and preview images.\r\n */\r\nimport React from \'react\'\r\nimport { Upload } from \'megacosm\'\r\n\r\nexport default function() {\r\n  return (\r\n    <Upload.Image\r\n      drop\r\n      action="//jsonplaceholder.typicode.com/posts"\r\n      accept="image/*"\r\n      name="file"\r\n      onSuccess={(res, file, data) => ({ data })}\r\n      renderResult={f => f.data}\r\n      limit={3}\r\n      onStart={f => console.log(f)}\r\n    />\r\n  )\r\n}\r\n'},1079:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(301),i=n(296);t.default=function(){return a.a.createElement(o.a.Image,{action:"//jsonplaceholder.typicode.com/posts",accept:"image/*",name:"file",onSuccess:function(e,t,n){return{data:n}},renderResult:function(e){return e.data},limit:3,onStart:function(e){return console.log(e)},renderContent:function(e,t,n,r){return console.log(e,t,n,r),a.a.createElement("div",{onClick:function(){return i.a.info("i am click")}},a.a.createElement("img",{width:"100%",src:e,alt:"not found"}))}})}},1080:function(e,t){e.exports='/**\r\n * - Custom result content\r\n *    -- Use renderContent to customize the image results after uploading.\r\n */\r\nimport React from \'react\'\r\nimport { Upload, Message } from \'megacosm\'\r\n\r\nexport default function() {\r\n  return (\r\n    <Upload.Image\r\n      action="//jsonplaceholder.typicode.com/posts"\r\n      accept="image/*"\r\n      name="file"\r\n      onSuccess={(res, file, data) => ({ data })}\r\n      renderResult={f => f.data}\r\n      limit={3}\r\n      onStart={f => console.log(f)}\r\n      renderContent={(d, v, i, values) => {\r\n        console.log(d, v, i, values)\r\n        return (\r\n          <div onClick={() => Message.info(\'i am click\')}>\r\n            <img width="100%" src={d} alt="not found" />\r\n          </div>\r\n        )\r\n      }}\r\n    />\r\n  )\r\n}\r\n'},1081:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(301);t.default=function(){return a.a.createElement(o.a.Button,{action:"//jsonplaceholder.typicode.com/posts",name:"file",onSuccess:function(e,t){return t.name},loading:"正在上传...",placeholder:"点击上传",type:"primary"})}},1082:function(e,t){e.exports='/**\r\n * - Button\r\n *    -- Use Upload.Button to show the upload progress of individual files\r\n */\r\nimport React from \'react\'\r\nimport { Upload } from \'megacosm\'\r\n\r\nexport default function() {\r\n  return (\r\n    <Upload.Button\r\n      action="//jsonplaceholder.typicode.com/posts"\r\n      name="file"\r\n      onSuccess={(res, file) => file.name}\r\n      loading="正在上传..."\r\n      placeholder="点击上传"\r\n      type="primary"\r\n    />\r\n  )\r\n}\r\n'},1083:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(301);t.default=function(){return a.a.createElement(o.a.Image,{defaultValue:[{data:"/images/1_b.jpg"}],action:"//jsonplaceholder.typicode.com/posts",renderResult:function(e){return e.data},onSuccess:function(e,t,n){return{data:n}},removeConfirm:"Are you sure to delete it ?"})}},1084:function(e,t){e.exports="/**\r\n * - Remove Confirm\r\n *    -- Set the removeConfirm property to enable confirmation before deleting\r\n */\r\nimport React from 'react'\r\nimport { Upload } from 'megacosm'\r\n\r\nexport default () => (\r\n  <Upload.Image\r\n    defaultValue={[{ data: '/images/1_b.jpg' }]}\r\n    action=\"//jsonplaceholder.typicode.com/posts\"\r\n    renderResult={d => d.data}\r\n    onSuccess={(res, file, data) => ({ data })}\r\n    removeConfirm=\"Are you sure to delete it ?\"\r\n  />\r\n)\r\n"},1085:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(301),i=n(178);t.default=function(){return a.a.createElement(o.a.Image,{action:"//jsonplaceholder.typicode.com/posts",accept:"image/*",name:"file",onSuccess:function(e,t,n){return{data:n}},width:200,height:100,limit:1,renderResult:function(e){return e.data},validator:{imageSize:function(e){return 200!==e.width||100!==e.height?new Error("only allow 200px * 100px"):void 0},ext:function(e){return["jpg","png"].includes(e)?void 0:new Error("File extension must be jpg or png")}}},a.a.createElement("div",{style:{margin:"auto",color:"#999",textAlign:"center"}},a.a.createElement(i.a,{name:"upload"})," Upload Image",a.a.createElement("br",null),"Allow size 200 * 100"))}},1086:function(e,t){e.exports="/**\r\n * - Validator\r\n *    -- Set validator.imageSize to validate the width and height of the image.\r\n */\r\nimport React from 'react'\r\nimport { Upload } from 'megacosm'\r\nimport FontAwesome from '../Icon/FontAwesome'\r\n\r\nexport default function() {\r\n  return (\r\n    <Upload.Image\r\n      action=\"//jsonplaceholder.typicode.com/posts\"\r\n      accept=\"image/*\"\r\n      name=\"file\"\r\n      onSuccess={(res, file, data) => ({ data })}\r\n      width={200}\r\n      height={100}\r\n      limit={1}\r\n      renderResult={f => f.data}\r\n      validator={{\r\n        imageSize: img => (img.width !== 200 || img.height !== 100 ? new Error('only allow 200px * 100px') : undefined),\r\n        ext: ext => (['jpg', 'png'].includes(ext) ? undefined : new Error('File extension must be jpg or png')),\r\n      }}\r\n    >\r\n      <div style={{ margin: 'auto', color: '#999', textAlign: 'center' }}>\r\n        <FontAwesome name=\"upload\" /> Upload Image\r\n        <br />\r\n        Allow size 200 * 100\r\n      </div>\r\n    </Upload.Image>\r\n  )\r\n}\r\n"},1087:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(301),i=n(65),l=n(178);t.default=function(){return a.a.createElement("div",null,a.a.createElement(o.a,{action:"//jsonplaceholder.typicode.com/posts",accept:"image/*",multiple:!0,name:"file",onSuccess:function(e,t){return t.name},style:{width:300,marginBottom:30},validator:{size:function(e){return 10240<e?new Error("max file size is 10KB"):void 0}},validatorHandle:function(e,t){return console.log(e,t),!0}},a.a.createElement(i.a,null,a.a.createElement(l.a,{name:"upload"})," Upload file")),a.a.createElement(o.a.Image,{action:"//jsonplaceholder.typicode.com/posts",accept:"image/*",multiple:!0,name:"file",onSuccess:function(e,t,n){return{data:n}},validator:{size:function(e){return 10240<e?new Error("max file size is 10KB"):void 0}},renderResult:function(e){return e.data}}))}},1088:function(e,t){e.exports='/**\r\n * - \r\n *    -- Set validator.size to validate the size of the file. This example is 10KB.\r\n */\r\nimport React from \'react\'\r\nimport { Upload, Button } from \'megacosm\'\r\nimport FontAwesome from \'../Icon/FontAwesome\'\r\n\r\nexport default function() {\r\n  return (\r\n    <div>\r\n      <Upload\r\n        action="//jsonplaceholder.typicode.com/posts"\r\n        accept="image/*"\r\n        multiple\r\n        name="file"\r\n        onSuccess={(res, file) => file.name}\r\n        style={{ width: 300, marginBottom: 30 }}\r\n        validator={{\r\n          size: s => (s > 10240 ? new Error(\'max file size is 10KB\') : undefined),\r\n        }}\r\n        validatorHandle={(error, file) => {\r\n          console.log(error, file)\r\n          return true\r\n        }}\r\n      >\r\n        <Button>\r\n          <FontAwesome name="upload" /> Upload file\r\n        </Button>\r\n      </Upload>\r\n\r\n      <Upload.Image\r\n        action="//jsonplaceholder.typicode.com/posts"\r\n        accept="image/*"\r\n        multiple\r\n        name="file"\r\n        onSuccess={(res, file, data) => ({ data })}\r\n        validator={{\r\n          size: s => (s > 10240 ? new Error(\'max file size is 10KB\') : undefined),\r\n        }}\r\n        renderResult={f => f.data}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n'},1089:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(301),i=n(65),l=n(178);t.default=function(){return a.a.createElement("div",null,a.a.createElement(o.a,{action:"/path-no-exist",accept:"image/*",name:"file",onSuccess:function(e,t){return t.name},onHttpError:function(e){return console.log(e),404===e.status?"Url not found.":"Upload Fail."},limit:3,style:{width:300,marginBottom:30}},a.a.createElement(i.a,null,a.a.createElement(l.a,{name:"upload"})," Upload file")),a.a.createElement(o.a.Image,{action:"/path-no-exist",accept:"image/*",name:"file",onSuccess:function(e,t,n){return{data:n}},onHttpError:function(e){return console.log(e),404===e.status?"Url not found.":"Upload Fail."},renderResult:function(e){return e.data}}))}},1090:function(e,t){e.exports="/**\r\n * - Error\r\n *    -- Set onHttpError to handle exceptions returned by uploading to the server.\r\n */\r\nimport React from 'react'\r\nimport { Upload, Button } from 'megacosm'\r\nimport FontAwesome from '../Icon/FontAwesome'\r\n\r\nexport default function() {\r\n  return (\r\n    <div>\r\n      <Upload\r\n        action=\"/path-no-exist\"\r\n        accept=\"image/*\"\r\n        name=\"file\"\r\n        onSuccess={(res, file) => file.name}\r\n        onHttpError={xhr => {\r\n          console.log(xhr)\r\n          if (xhr.status === 404) return 'Url not found.'\r\n          return 'Upload Fail.'\r\n        }}\r\n        limit={3}\r\n        style={{ width: 300, marginBottom: 30 }}\r\n      >\r\n        <Button>\r\n          <FontAwesome name=\"upload\" /> Upload file\r\n        </Button>\r\n      </Upload>\r\n\r\n      <Upload.Image\r\n        action=\"/path-no-exist\"\r\n        accept=\"image/*\"\r\n        name=\"file\"\r\n        onSuccess={(res, file, data) => ({ data })}\r\n        onHttpError={xhr => {\r\n          console.log(xhr)\r\n          if (xhr.status === 404) return 'Url not found.'\r\n          return 'Upload Fail.'\r\n        }}\r\n        renderResult={f => f.data}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n"},1091:function(e,t,n){"use strict";n.r(t);function r(e){var t=e.file,n=e.onLoad,r=e.onError,e=e.onProgress,a=new XMLHttpRequest,o=(a.open("post","//jsonplaceholder.typicode.com/posts"),new FormData);return o.append("test",t),a.upload.onprogress=e,a.onload=function(){return n(a)},a.onerror=function(){return r({statusText:"error message"})},a.send(o),a}var a=n(0),o=n.n(a),i=n(301),l=n(65),s=n(178);t.default=function(){return o.a.createElement(i.a,{accept:"image/*",onSuccess:function(e,t){return{name:"upload ".concat(t.name)}},limit:3,style:{width:300},request:r,renderResult:function(e){return e.name}},o.a.createElement(l.a,null,o.a.createElement(s.a,{name:"upload"})," Upload file"))}},1092:function(e,t){e.exports="/**\r\n * - Custom Request\r\n *    -- Set request property to use your own XMLHttpRequest.\r\n */\r\nimport React from 'react'\r\nimport { Upload, Button } from 'megacosm'\r\nimport FontAwesome from '../Icon/FontAwesome'\r\n\r\nconst request = options => {\r\n  const { file, onLoad, onError, onProgress } = options\r\n  const xhr = new XMLHttpRequest()\r\n  xhr.open('post', '//jsonplaceholder.typicode.com/posts')\r\n\r\n  const data = new FormData()\r\n  data.append('test', file)\r\n  xhr.upload.onprogress = onProgress\r\n  xhr.onload = () => onLoad(xhr)\r\n  xhr.onerror = () => onError({ statusText: 'error message' })\r\n  xhr.send(data)\r\n\r\n  return xhr\r\n}\r\n\r\nexport default function() {\r\n  return (\r\n    <Upload\r\n      accept=\"image/*\"\r\n      onSuccess={(res, file) => ({ name: `upload ${file.name}` })}\r\n      limit={3}\r\n      style={{ width: 300 }}\r\n      request={request}\r\n      renderResult={d => d.name}\r\n    >\r\n      <Button>\r\n        <FontAwesome name=\"upload\" />\r\n        &nbsp;Upload file\r\n      </Button>\r\n    </Upload>\r\n  )\r\n}\r\n"},1093:function(e,t,n){"use strict";n.r(t);function r(e){var t=e.file,n=e.onLoad,r=e.onError,a=new FileReader;a.addEventListener("load",function(){n({status:200,response:a.result})}),a.addEventListener("error",function(){r({statusText:"Oops, something went wrong"})}),a.readAsDataURL(t)}var a=n(0),o=n.n(a),i=n(301);t.default=function(){return o.a.createElement(i.a.Image,{accept:"image/*",onSuccess:function(e,t){return{name:t.name,src:e}},request:r,renderResult:function(e){return e.src}})}},1094:function(e,t){e.exports="/**\r\n * - \r\n *    -- ignore request with request\r\n */\r\nimport React from 'react'\r\nimport { Upload } from 'megacosm'\r\n\r\nconst request = options => {\r\n  const { file, onLoad, onError } = options\r\n  const reader = new FileReader()\r\n  reader.addEventListener('load', () => {\r\n    onLoad({ status: 200, response: reader.result })\r\n  })\r\n  reader.addEventListener('error', () => {\r\n    onError({ statusText: 'Oops, something went wrong' })\r\n  })\r\n  reader.readAsDataURL(file)\r\n}\r\n\r\nexport default function() {\r\n  return (\r\n    <Upload.Image\r\n      accept=\"image/*\"\r\n      onSuccess={(dataURL, file) => ({ name: file.name, src: dataURL })}\r\n      request={request}\r\n      renderResult={d => d.src}\r\n    />\r\n  )\r\n}\r\n"},1095:function(e,t,n){"use strict";n.r(t);function r(e){var n=e.file,r=e.onLoad,a=e.onError,o=e.onProgress,i=new XMLHttpRequest;return i.open("post","//jsonplaceholder.typicode.com/posts"),(e=new window.JSZip).file(n.name,n),e.generateInternalStream({type:"blob"}).accumulate(function(e){o(e,"zipping...")}).then(function(e){var e=new File([e],"".concat(n.name,".zip")),t=new FormData;t.append("file",e),i.upload.onprogress=function(e){return o(e,"sending...")},i.onload=function(){return r(i)},i.onerror=function(){return a({statusText:"error message"})},i.send(t)}),i}var a=n(0),o=n.n(a),i=n(301),l=n(65),s=n(178);t.default=function(){return o.a.createElement(i.a,{onSuccess:function(e,t){return{name:"upload ".concat(t.name)}},limit:3,style:{width:300},request:r,renderResult:function(e){return e.name}},o.a.createElement(l.a,null,o.a.createElement(s.a,{name:"upload"})," Upload file"))}},1096:function(e,t){e.exports="/**\r\n * - \r\n *    -- Zip file and upload.\r\n */\r\nimport React from 'react'\r\nimport { Upload, Button } from 'megacosm'\r\nimport FontAwesome from '../Icon/FontAwesome'\r\n\r\nconst request = options => {\r\n  const { file, onLoad, onError, onProgress } = options\r\n\r\n  const xhr = new XMLHttpRequest()\r\n  xhr.open('post', '//jsonplaceholder.typicode.com/posts')\r\n\r\n  const zip = new window.JSZip()\r\n  zip.file(file.name, file)\r\n  zip\r\n    .generateInternalStream({ type: 'blob' })\r\n    .accumulate(e => {\r\n      onProgress(e, 'zipping...')\r\n    })\r\n    .then(content => {\r\n      const zipFile = new File([content], `${file.name}.zip`)\r\n      const data = new FormData()\r\n      data.append('file', zipFile)\r\n      xhr.upload.onprogress = m => onProgress(m, 'sending...')\r\n      xhr.onload = () => onLoad(xhr)\r\n      xhr.onerror = () => onError({ statusText: 'error message' })\r\n      xhr.send(data)\r\n    })\r\n\r\n  return xhr\r\n}\r\n\r\nexport default function() {\r\n  return (\r\n    <Upload\r\n      onSuccess={(res, file) => ({ name: `upload ${file.name}` })}\r\n      limit={3}\r\n      style={{ width: 300 }}\r\n      request={request}\r\n      renderResult={d => d.name}\r\n    >\r\n      <Button>\r\n        <FontAwesome name=\"upload\" /> Upload file\r\n      </Button>\r\n    </Upload>\r\n  )\r\n}\r\n"},1097:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(301),i=n(65),l=n(178);t.default=function(){var e=[{name:"test file.png",url:"../images/1_s.jpg"}];return a.a.createElement("div",null,a.a.createElement(o.a,{action:"//jsonplaceholder.typicode.com/posts",accept:"image/*",multiple:!0,limit:2,name:"file",onSuccess:function(e,t){return{name:t.name}},style:{width:300,marginBottom:30},defaultValue:e,renderResult:function(e){return e.name}},a.a.createElement(i.a,null,a.a.createElement(l.a,{name:"upload"})," Upload file")),a.a.createElement(o.a.Image,{action:"//jsonplaceholder.typicode.com/posts",accept:"image/*",multiple:!0,name:"file",limit:1,recoverAble:!0,onSuccess:function(e,t,n){return{url:n}},renderResult:function(e){return e.url},defaultValue:e}))}},1098:function(e,t){e.exports='/**\r\n * - defaultValue\r\n *    -- defaultValue example\r\n */\r\nimport React from \'react\'\r\nimport { Upload, Button } from \'megacosm\'\r\nimport FontAwesome from \'../Icon/FontAwesome\'\r\n\r\nexport default function() {\r\n  const defaultValue = [\r\n    {\r\n      name: \'test file.png\',\r\n      url: \'../images/1_s.jpg\',\r\n    },\r\n  ]\r\n\r\n  return (\r\n    <div>\r\n      <Upload\r\n        action="//jsonplaceholder.typicode.com/posts"\r\n        accept="image/*"\r\n        multiple\r\n        limit={2}\r\n        name="file"\r\n        onSuccess={(res, file) => ({ name: file.name })}\r\n        style={{ width: 300, marginBottom: 30 }}\r\n        defaultValue={defaultValue}\r\n        renderResult={f => f.name}\r\n      >\r\n        <Button>\r\n          <FontAwesome name="upload" /> Upload file\r\n        </Button>\r\n      </Upload>\r\n\r\n      <Upload.Image\r\n        action="//jsonplaceholder.typicode.com/posts"\r\n        accept="image/*"\r\n        multiple\r\n        name="file"\r\n        limit={1}\r\n        recoverAble\r\n        onSuccess={(res, file, data) => ({ url: data })}\r\n        renderResult={f => f.url}\r\n        defaultValue={defaultValue}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n'},1099:function(c,e,t){"use strict";t.r(e);var n=t(0),r=t.n(n),a=t(301),o=t(65),i=t(178);function l(){return r.a.createElement(a.a.Image,{action:"//jsonplaceholder.typicode.com/posts",accept:"image/*",name:"file",onSuccess:function(e,t,n){return{data:n}},renderResult:function(e){return e.data},limit:3,onStart:function(e){return console.log(e)},width:250,drop:!0},r.a.createElement("div",{style:{textAlign:"center",width:"100%",padding:20}},r.a.createElement(i.a,{style:{color:"#409dfd",fontSize:20},name:"image"}),r.a.createElement("br",null),"Click or Drag image to upload"))}function s(){return r.a.createElement(a.a,{action:"//jsonplaceholder.typicode.com/posts",multiple:!0,name:"file",onSuccess:function(e,t){return t.name},limit:3,style:{width:300},drop:!0},r.a.createElement(o.a,null,r.a.createElement(i.a,{name:"file"}),"  Drop file to upload"))}e.default=function(){return r.a.createElement("div",null,r.a.createElement(l,null),r.a.createElement("br",null),r.a.createElement(s,null))}},1100:function(e,t){e.exports='/**\r\n * - Drag and Drop\r\n *    -- set drop to Drag files to upload.\r\n */\r\nimport React from \'react\'\r\nimport { Upload, Button } from \'megacosm\'\r\nimport FontAwesome from \'../Icon/FontAwesome\'\r\n\r\nfunction DraggerImage() {\r\n  return (\r\n    <Upload.Image\r\n      action="//jsonplaceholder.typicode.com/posts"\r\n      accept="image/*"\r\n      name="file"\r\n      onSuccess={(res, file, data) => ({ data })}\r\n      renderResult={f => f.data}\r\n      limit={3}\r\n      onStart={f => console.log(f)}\r\n      width={250}\r\n      drop\r\n    >\r\n      <div style={{ textAlign: \'center\', width: \'100%\', padding: 20 }}>\r\n        <FontAwesome style={{ color: \'#409dfd\', fontSize: 20 }} name="image" />\r\n        <br />\r\n        Click or Drag image to upload\r\n      </div>\r\n    </Upload.Image>\r\n  )\r\n}\r\n\r\nfunction DraggerFile() {\r\n  return (\r\n    <Upload\r\n      action="//jsonplaceholder.typicode.com/posts"\r\n      multiple\r\n      name="file"\r\n      onSuccess={(res, file) => file.name}\r\n      limit={3}\r\n      style={{ width: 300 }}\r\n      drop\r\n    >\r\n      <Button>\r\n        <FontAwesome name="file" />\r\n        &nbsp; Drop file to upload\r\n      </Button>\r\n    </Upload>\r\n  )\r\n}\r\n\r\nexport default function() {\r\n  return (\r\n    <div>\r\n      <DraggerImage />\r\n      <br />\r\n      <DraggerFile />\r\n    </div>\r\n  )\r\n}\r\n'},291:function(u,d,e){"use strict";var r,p=e(13),a=e(3),m=e(4),o=e(1),h=e(27),f=e(22),v=e(5),g=e(6),i=e(0),l=e.n(i),t=e(16),b=e.n(t),t=e(19),y=e(182),n=e(507),n=e.n(n),s=e(12),c=Object(s.a)(n.a,"image"),s=e(64),w=e.n(s),j=e(45),E=e(118),O=e(50),k=e(51),x=function(e){Object(v.a)(r,e);var n=Object(g.a)(r);function r(e){var t;return Object(a.a)(this,r),(t=n.call(this,e)).state={loading:!0,status:0,style:{maxHeight:e.maxHeight,maxWidth:e.maxWidth}},t.handleMove=t.handleMove.bind(Object(o.a)(t)),t.handleResize=t.handleResize.bind(Object(o.a)(t)),t.handleLoaded=t.handleLoaded.bind(Object(o.a)(t)),t}return Object(m.a)(r,[{key:"componentDidUpdate",value:function(e){e.src!==this.props.src&&1===this.state.status&&(this.setState({loading:!0,status:0,style:{maxHeight:this.props.maxHeight,maxWidth:this.props.maxWidth}}),this.props.lockScroll(!1))}},{key:"move",value:function(e,t){var n=this.element.getBoundingClientRect(),r=this.element.querySelector("img"),a=n.width-100,o=n.height-100,e=(e-n.left-50)/a,t=(t-n.top-50)/o;this.element.scrollTop=(r.offsetHeight-o)*t,this.element.scrollLeft=(r.offsetWidth-a)*e}},{key:"handleLoaded",value:function(){this.setState({loading:!1})}},{key:"handleMove",value:function(e){this.move(e.clientX,e.clientY)}},{key:"handleResize",value:function(e){var t,n,r,a=this,o=this.props,i=o.maxHeight,l=o.maxWidth;"center"===o.position&&(t=1===this.state.status?0:1,n=e.clientX,r=e.clientY,this.setState(Object(j.a)(function(e){e.status=t,e.style=0==t?{maxHeight:i,maxWidth:l}:void 0}),function(){0!=t&&a.move(n,r)}),this.props.lockScroll(1==t))}},{key:"render",value:function(){var t=this,e=this.props,n=e.maxHeight,r=e.maxWidth,e=e.src,a=this.state,o=a.status,a=a.loading,n={maxHeight:n,maxWidth:r,cursor:"center"===this.props.position?1===o?"zoom-out":"zoom-in":"pointer"},r=(1===o&&(n.overflow="scroll",n.borderRightWidth=0,n.borderBottomWidth=0),1===o?this.handleMove:void 0);return l.a.createElement("div",{onClick:this.handleResize,onMouseMove:r,ref:function(e){t.element=e},style:n,className:c("magnify")},l.a.createElement("img",{onLoad:this.handleLoaded,src:e,alt:"",style:this.state.style}),a&&l.a.createElement("div",{className:c("magnify-loading")},l.a.createElement(k.a,{size:30})))}}]),r}(t.b),R=e(34),n=function(e){Object(v.a)(r,e);var n=Object(g.a)(r);function r(e){var t;return Object(a.a)(this,r),(t=n.call(this,e)).state={current:e.current,direction:"init"},t.handleScroll=t.handleScroll.bind(Object(o.a)(t)),t.lockScroll=t.lockScroll.bind(Object(o.a)(t)),t.scrollX=0,t.rawScroll=!1,t}return Object(m.a)(r,[{key:"componentDidMount",value:function(){Object(h.a)(Object(f.a)(r.prototype),"componentDidMount",this).call(this),document.addEventListener("wheel",this.handleScroll,{passive:!1})}},{key:"componentWillUnmount",value:function(){Object(h.a)(Object(f.a)(r.prototype),"componentWillUnmount",this).call(this),document.removeEventListener("wheel",this.handleScroll,{passive:!1})}},{key:"lockScroll",value:function(e){this.rawScroll=e}},{key:"handleClick",value:function(t){var e=this,n=this.props.images.length;this.setState(Object(j.a)(function(e){e.current+=t,e.current<0?e.current=0:e.current>=n?e.current=n-1:e.direction=1===t?"forward":"backward"}),function(){setTimeout(function(){e.setState({direction:"init"})},400)})}},{key:"handleScroll",value:function(e){var t=this;this.rawScroll||(e.preventDefault(),0===this.scrollX&&(e=Object(E.a)(e),this.scrollX+=e.spinX,this.scrollX<0&&this.handleClick(-1),0<this.scrollX&&this.handleClick(1),this.scrollTimer=setTimeout(function(){t.scrollX=0},1e3)))}},{key:"renderImage",value:function(e,t){var n,r=R.docSize.height,a=R.docSize.width;return"center"!==t&&(n=this.handleClick.bind(this,"left"===t?-1:1)),l.a.createElement("div",{key:e.key,className:c(t,this.state.direction),onClick:n},l.a.createElement("a",{onClick:this.props.onClose,className:c("close")},O.a.Close),l.a.createElement(x,{maxWidth:a-400,maxHeight:r-160,position:t,src:e.src,lockScroll:this.lockScroll}))}},{key:"render",value:function(){var e=this.state.current,t=this.props,n=t.images,t=t.onClose,r=n[e],a=[];return a.push(l.a.createElement("div",{key:"overlay",className:c("overlay"),onClick:t})),a.push(this.renderImage(r,"center")),n[e-1]&&a.push(this.renderImage(n[e-1],"left")),n[e+1]&&a.push(this.renderImage(n[e+1],"right")),a}}]),r}(t.b),C=(n.defaultProps={current:0},n);function S(){document.removeEventListener("keydown",U),w.a.unmountComponentAtNode(r),document.body.removeChild(r),r=null}function U(e){27===e.keyCode&&S()}function N(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=(Array.isArray(e)||(e=[e]),r||(r=document.createElement("div"),document.body.appendChild(r),r.className=c("gallery"),r));document.addEventListener("keydown",U),w.a.render(l.a.createElement(C,{onClose:S,current:t,images:e}),n)}var D=e(36),F=e(15),I=e(33),A=e(90),s=function(e){Object(v.a)(n,e);var t=Object(g.a)(n);function n(e){return Object(a.a)(this,n),(e=t.call(this,e)).state={status:0},e.bindElement=e.bindElement.bind(Object(o.a)(e)),e.markToRender=e.markToRender.bind(Object(o.a)(e)),e.handleAlt=e.handleAlt.bind(Object(o.a)(e)),e.handleClick=e.handleClick.bind(Object(o.a)(e)),e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){Object(h.a)(Object(f.a)(n.prototype),"componentDidMount",this).call(this),this.fetchImage()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.src,t=t.alt;e.src===n&&e.alt===t||this.fetchImage()}},{key:"componentWillUnmount",value:function(){Object(h.a)(Object(f.a)(n.prototype),"componentWillUnmount",this).call(this),Object(y.b)(this.lazyId),delete this.image}},{key:"getUrl",value:function(e){return("autoSSL"in this.props?this.props:F.a).autoSSL?Object(I.removeProtocol)(e):e}},{key:"preview",value:function(){var e=this.props,t=e.src,e=e.href;N({thumb:t,src:e||t,key:"key"})}},{key:"bindElement",value:function(e){this.element=e}},{key:"fetchImage",value:function(){var e;this.lazyId&&Object(y.b)(this.lazyId),this.props.lazy?(e=this.props.container,this.lazyId=Object(y.a)({offset:"number"==typeof this.props.lazy?this.props.lazy:0,element:this.element,render:this.markToRender,container:"string"==typeof e?document.querySelector(e):e})):this.markToRender()}},{key:"markToRender",value:function(){var e,t=this,n=this.props.src;n?(delete this.image,(e=new window.Image).onload=function(){return t.setState({status:1})},e.onerror=this.handleError.bind(this,1),e.src=this.getUrl(n),this.image=e):this.handleAlt()}},{key:"handleError",value:function(e,t){var n=this.props.onError;n&&n(t,e),1===e?this.handleAlt():2===e&&this.setState({status:3})}},{key:"handleAlt",value:function(){var e,t=this,n=this.props.alt;n?((e=new window.Image).onload=function(){return t.setState({status:2})},e.onerror=this.handleError.bind(this,2),e.src=this.getUrl(n)):this.setState({status:3})}},{key:"handleClick",value:function(e){var t=this.props,n=t.onClick,r=t.target,a=t.src,t=t.href;n?n(e):t&&"_modal"===r&&(e.preventDefault(),N({thumb:a,src:t||a,key:"key"}))}},{key:"renderType",value:function(e){var t=this.props,n=t.title,t=t.fit;return"fill"===t||"fit"===t?l.a.createElement("div",{className:c("inner"),title:n,style:{backgroundImage:'url("'.concat(e,'")')}}):l.a.createElement("div",{className:c("inner"),title:n},l.a.createElement("img",{alt:"",src:e}))}},{key:"renderPlaceholder",value:function(){var e=this.props,t=e.placeholder,e=e.title;return l.a.isValidElement(t)?l.a.createElement("div",{className:c("inner")},t):l.a.createElement("div",{className:c("inner","mask")},l.a.createElement("div",null,e,l.a.createElement("span",{className:c("placeholder")},t||Object(D.a)("loading"))))}},{key:"renderImage",value:function(){var e=this.state.status,t=this.props,n=t.alt,r=t.src,a=t.title,o=t.error;switch(e){case 0:return this.renderPlaceholder();case 1:return this.renderType(r);case 2:return this.renderType(n);case 3:return l.a.createElement("div",{className:c("inner","mask")},l.a.createElement("div",null,o||a||Object(D.a)("notFound")));default:return null}}},{key:"render",value:function(){var e=this.props,t=e.href,n=e.height,r=e.style,a=e.shape,o=e.fit,i=e.width,e=e.target,a=b()(c("_",a,o),this.props.className),o=t?"a":"div",a=Object(p.a)({ref:this.bindElement,onClick:this.handleClick,target:"_download"===e?"_self":e,download:"_download"===e,className:a,style:Object.assign({},r,{width:i,paddingBottom:n})},Object(A.a)(this.props));return t&&"_modal"===e||(a.href=t),l.a.createElement(o,a,this.renderImage())}}]),n}(t.b),L=(s.defaultProps={lazy:!1,target:"_modal",width:"100%",height:"100%"},{}),n=(s.symbolType=L,s),P=e(14),T=["children","pile","style"],t=function(e){Object(v.a)(n,e);var t=Object(g.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"handleClick",value:function(r){var e=this.props.children,a=[],o=0;i.Children.toArray(e).forEach(function(e,t){var n;e&&e.type&&e.type.symbolType===L&&(r===t&&(o=a.length),n=(e=e.props).src,e=e.href,a.push({thumb:n,src:e||n,key:t}))}),N(a,o)}},{key:"render",value:function(){var n=this,e=this.props,t=(e.children,e.pile),r=e.style,a=Object(P.a)(e,T);return l.a.createElement("div",{className:c("group",t&&"pile"),style:r},i.Children.toArray(this.props.children).map(function(e,t){return Object(i.cloneElement)(e,Object(p.a)(Object(p.a)({},a),{},{onClick:n.handleClick.bind(n,t)}))}))}}]),n}(i.PureComponent);n.Group=t,n.displayName="MegacosmImage",n.Group.displayName="MegacosmImageGroup",d.a=n},293:function(i,e,t){"use strict";function d(n){return n.from?[{pos:"0%",color:n.from},{pos:"100%",color:n.to}]:Object.keys(n).sort(function(e,t){return window.parseInt(e)-window.parseInt(t)}).reduce(function(e,t){return e.push({pos:t,color:n[t]}),e},[])}var n=t(0),p=t.n(n),n=t(16),m=t.n(n),n=t(509),n=t.n(n),l=t(12),h=Object(l.a)(n.a,"progress"),s=t(3),c=t(4),u=t(5),f=t(6),v=function(e){Object(u.a)(n,e);var t=Object(f.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"getStyle",value:function(){var e=this.props.value,t=0,t=e<=60?e/60*15:15*(1-e/100);return{left:"".concat(e,"%"),transform:"translateX(-50%) rotate(".concat(t,"deg)")}}},{key:"render",value:function(){var e=this.props.children;return p.a.createElement("div",{className:h("popup"),style:this.getStyle()},p.a.createElement("span",{className:h("value")},e),p.a.createElement("span",{className:h("arrow")}))}}]),n}(p.a.Component);function r(e){var t=e.children,n=e.strokeWidth,r=e.type,a=e.value,o=e.color,i=e.style,u=e.background,l=e.popup,s=void 0!==t,c=l&&s,r=m()(h("line",r,c&&"line-popup"),e.className),c={width:"".concat(a/100*100,"%"),borderRadius:n/2};return"string"==typeof o?(c.background=o,c.backgroundSize="1em 1em"):"object"==typeof o&&(c.background="linear-gradient(to right, ".concat(d(o).reduce(function(e,t){t="".concat(t.color," ").concat(t.pos);return e?"".concat(e,",").concat(t):t},""),")")),p.a.createElement("div",{className:r,style:i},p.a.createElement("div",{className:h("background"),style:{height:n,background:u,borderRadius:n/2}},p.a.createElement("div",{className:h("front"),style:c})),s&&(l?p.a.createElement(v,Object.assign({},e,{value:a})):p.a.createElement("div",{className:h("content")},t)))}r.defaultProps={strokeWidth:8};var g=r;function a(e){var t=e.children,n=e.strokeWidth,r=e.type,a=e.color,o=e.size,i=e.value,u=e.background,l=e.strokeLinecap,r=m()(h("circle",r),e.className),s=100-Math.ceil(n/o*100),c=2*Math.PI*s,c=[i/100*c,c*(1-i/100)],o=Object.assign({width:o,height:o},e.style),e=0===i&&"round"===l?0:2*n,i=a&&"object"==typeof a;return p.a.createElement("div",{className:r,style:o},p.a.createElement("svg",{viewBox:"0 0 200 200"},i?p.a.createElement("defs",null,p.a.createElement("linearGradient",{id:"progress-linear",x1:"50%",x2:"50%",y1:"0%",y2:"100%"},d(a).map(function(e){return p.a.createElement("stop",{key:e.pos,offset:e.pos,stopColor:e.color})}))):null,p.a.createElement("circle",{className:h("background"),cx:"100",cy:"100",r:s,strokeWidth:2*n,fill:"transparent",style:{stroke:u}}),p.a.createElement("circle",{className:h("front"),cx:"100",cy:"100",r:s,fill:"transparent",style:{stroke:i?"url('#progress-linear')":a},strokeDasharray:c,strokeLinecap:l,strokeWidth:e})),t&&p.a.createElement("div",{className:h("content")},t))}a.defaultProps={strokeLinecap:"round",strokeWidth:8,size:100};var b=a;function o(e){return"circle"!==e.shape?p.a.createElement(g,e):p.a.createElement(b,e)}o.defaultProps={shape:"line"},o.displayName="MegacosmProgress";e.a=o},295:function(u,e,t){"use strict";var r=t(3),a=t(4),o=t(5),d=t(6),n=t(0),i=t.n(n),l=t(16),p=t.n(l),l=t(510),l=t.n(l),t=t(12),s=Object(t.a)(l.a,"gap");(t=document.createElement("div")).style.display="flex",t.style.flexDirection="column",t.style.rowGap="1px",t.appendChild(document.createElement("div")),t.appendChild(document.createElement("div")),document.body.appendChild(t),l=1===t.scrollHeight,t.parentNode.removeChild(t);var c=l,t=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"getStyle",value:function(){var e=this.props,t=e.row,n=e.column,e=e.style;return Object.assign({},e,c?{rowGap:t,columnGap:n}:{marginBottom:-t})}},{key:"getItemStyle",value:function(e){var t=this.props,n=t.row,r=t.column,a=t.itemStyle,t=t.children;if(c)return a;t=i.a.Children.count(t)-1===e;return Object.assign({},a,{marginBottom:n},!t&&{marginRight:r})}},{key:"render",value:function(){var n=this,e=this.props.children,t=p()(s("_"),this.props.className);return i.a.createElement("div",{className:t,style:this.getStyle()},i.a.Children.map(e,function(e,t){return e&&i.a.createElement("div",{className:s("item"),style:n.getItemStyle(t)},e)}))}}]),n}(n.PureComponent);t.defaultProps={row:8,column:8},e.a=t},296:function(r,s,e){"use strict";var t=e(0),d=e.n(t),t=e(64),c=e.n(t),p=e(105),u=e(3),h=e(4),f=e(1),v=e(5),g=e(6),l=e(45),t=e(19),b=e(117),y=e(21),e=function(e){Object(v.a)(n,e);var t=Object(g.a)(n);function n(e){return Object(u.a)(this,n),(e=t.call(this,e)).state={messages:[]},e.removeMessage=e.removeMessage.bind(Object(f.a)(e)),e.handleClassName=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"top",t=1<arguments.length?arguments[1]:void 0;return Object(p.a)("item","item-".concat(t?"dismissed":"show","-").concat(e))},e.handleStyle=function(e,t,n){if(!e||null==t)return null;var r={};switch(n){case"bottom-right":case"bottom-left":break;default:r={zIndex:-1,opacity:0,marginTop:-t}}return r},e}return Object(h.a)(n,[{key:"addMessage",value:function(t){var e=this,n=Object(y.c)();return this.setState(Object(l.a)(function(e){e.messages.push(Object.assign({id:n},t))})),0<t.duration&&setTimeout(function(){e.setState(Object(l.a)(function(e){e.messages.forEach(function(e){e.id===n&&(e.dismiss=!0)})}))},1e3*t.duration),this.closeMessageForAnimation.bind(this,n,200,200)}},{key:"removeMessage",value:function(t){var n,e=this.state.messages.filter(function(e){return e.id!==t||(e.onClose&&(n=e.onClose),!1)});0===e.length?this.props.onDestory():this.setState({messages:e}),n&&n()}},{key:"closeMessageForAnimation",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0],o=n[1],i=n[2];o?(this.setState(Object(l.a)(function(e){e.messages.forEach(function(e){e.id===a&&(e.dismiss=!0,e.h=i+20)})})),setTimeout(function(){e.removeMessage(a)},o)):this.removeMessage(a)}},{key:"closeEvent",value:function(e,t){if(0===t)return this.removeMessage.bind(this,e)}},{key:"render",value:function(){var u=this;return[this.state.messages.map(function(e){var t=e.id,n=e.type,r=e.content,a=e.dismiss,o=e.h,i=e.title,l=e.top,s=e.className,c=e.position,e=e.hideClose;return d.a.createElement("div",{key:t,className:"".concat(u.handleClassName(c,a)," ").concat(s),style:u.handleStyle(a,o,c)},d.a.createElement(b.a,{outAnimation:!0,className:Object(p.a)("msg"),dismiss:a,hideClose:e,onClose:u.closeMessageForAnimation.bind(u,t),icon:!0,iconSize:i?20:14,style:{top:l},type:n},i&&d.a.createElement("h3",null,i),r))})]}}]),n}(t.b),w=(e.displayName="MegacosmMessage",e),a={},o={};function i(e){a[e]&&(c.a.unmountComponentAtNode(a[e]),document.body.removeChild(a[e]),delete a[e]),o[e]&&delete o[e]}function j(r){return new Promise(function(t){var e,n=o[r];n?t(n):c.a.render(d.a.createElement(w,{ref:function(e){o[r]=e,t(e)},onDestory:i.bind(null,r)}),(n=r,(e=document.createElement("div")).className=Object(p.a)("_",n),document.body.appendChild(e),a[n]=e))})}function n(u){return function(t,n,e){var e=Object.assign({},m,e),r=(n=[n,m.duration,3].find(function(e){return"number"==typeof e}),e.onClose),a=e.position,o=void 0===a?"top":a,i=e.title,a=e.className,l=void 0===a?"":a,a=e.top,s=void 0===a?"auto":a,c=e.hideClose;return j(o).then(function(e){return e.addMessage({content:t,duration:n,type:u,onClose:r,title:i,className:l,top:s,position:o,hideClose:c})})}}var m={};s.a={show:n("default"),success:n("success"),info:n("info"),warn:n("warning"),warning:n("warning"),danger:n("danger"),error:n("danger"),close:function(e){e?i(e):["top","middle","top-left","top-right","bottom-left","bottom-right"].forEach(function(e){i(e)})},setOptions:function(e){m=e}}},301:function(n,r,e){"use strict";var a=e(55),m=e(13),u=e(511),o=e(3),i=e(4),l=e(1),s=e(5),c=e(6),t=e(512),h=e.n(t),d=e(0),E=e.n(d),t=e(16),k=e.n(t),v=e(45),x=e(295),t=e(19),f=e(21),p=e(41),g=e(513),g=e.n(g),b=e(12),O=Object(b.a)(g.a,"upload");function y(e){var t,n,r,a,o=e.url,i=e.name,l=(e.cors,e.file),s=e.onProgress,u=e.onLoad,d=e.onError,p=e.withCredentials,m=void 0===(c=e.params)?{}:c,h=void 0===(c=e.headers)?{}:c,c=e.onStart,e=e.responseType;if(o)return t=new FormData,Object.keys(m).forEach(function(e){t.append(e,m[e])}),t.append(i,l),i="post",r=o,"withCredentials"in(a=new XMLHttpRequest)?a.open(i,r,!0):"undefined"!=typeof XDomainRequest?(a=new XDomainRequest).open(i,r):a=null,(n=a).withCredentials=p,e&&(n.responseType=e),s&&n.upload.addEventListener("progress",s,!1),n.onload=function(e){return u(e.currentTarget)},n.onerror=d,Object.keys(h).forEach(function(e){n.setRequestHeader(e,h[e])}),c&&c(l),n.send(t),n;console.error(new Error("action is required, but its value is ".concat(o)))}function w(e){var t=e.className,n=e.disabled,r=e.urlInvalid,a=e.children,o=e.style,i=e.width,l=e.height,e=Object(Y.a)(e,Z),t=k()(O("image-plus","image-item",n&&"disabled",r&&"url-invalid-border"),t),i=Object.assign({},{width:i,height:l},o);return E.a.createElement("div",Object.assign({},e,{style:i,tabIndex:n?-1:0,className:t}),a||E.a.createElement("div",{className:O("indicator",r&&"url-invalid-indicator")}))}function j(e){13===e.keyCode&&e.target.click()}var R,C,S={display:"none"},U=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){return Object(o.a)(this,n),(e=t.call(this,e)).locked=!1,e.bindElement=e.bindElement.bind(Object(l.a)(e)),e}return Object(i.a)(n,[{key:"bindElement",value:function(e){this.input=e}},{key:"click",value:function(){var e=this;this.locked||(this.locked=!0,this.input.value="",this.input.click(),setTimeout(function(){e.locked=!1},1e3))}},{key:"render",value:function(){var e=this.props,t=e.accept,n=e.onChange,r=e.multiple,e=e.webkitdirectory;return E.a.createElement("input",{ref:this.bindElement,accept:t,multiple:r,onChange:n,style:S,webkitdirectory:e,type:"file"})}}]),n}(d.PureComponent),N=e(293),D=e(51),F=e(50),I=E.a.createElement("span",{style:{display:"inline-block",marginRight:8}},E.a.createElement(D.a,{size:10,name:"ring"})),A=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){return Object(o.a)(this,n),(e=t.call(this,e)).handleRemove=e.handleRemove.bind(Object(l.a)(e)),e}return Object(i.a)(n,[{key:"handleRemove",value:function(){this.props.onRemove(this.props.id)}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.name,r=e.status,e=e.process,a=O("view-file",3===r&&"error");return E.a.createElement("div",{className:a},E.a.createElement("div",{className:O("text")},1===r&&I," ",n," ",t&&E.a.createElement("span",null,"(",t,") ")),E.a.createElement("a",{className:O("delete"),onClick:this.handleRemove},F.a.Close),3!==r&&E.a.createElement(N.a,{className:O("progress"),background:0<=e?"#e9ecef":"transparent",value:e,strokeWidth:2}))}}]),n}(d.PureComponent),L=e(291),P=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){return Object(o.a)(this,n),(e=t.call(this,e)).handleRemove=e.handleRemove.bind(Object(l.a)(e)),e}return Object(i.a)(n,[{key:"handleRemove",value:function(){this.props.onRemove(this.props.id)}},{key:"render",value:function(){var e=this.props,t=e.process,n=e.status,r=e.style,a=e.data,e=e.message,n=O("image-item",3===n&&"error");return E.a.createElement("div",{style:r,className:n},a&&E.a.createElement(L.a,{src:a,fit:"center",width:"auto",height:0,className:O("image-bg")}),e&&E.a.createElement("div",{className:O("message")},e),E.a.createElement("span",{className:O("delete"),onClick:this.handleRemove}),E.a.createElement("div",{className:O("progress-bg")},E.a.createElement(N.a,{className:O("progress"),color:"#f2f2f2",background:"rgba(0,0,0,0.5)",value:t,strokeWidth:2})))}}]),n}(d.PureComponent),T=e(82),z=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){return Object(o.a)(this,n),(e=t.call(this,e)).state={visible:!1},e.handleRemoveConfirm=e.handleRemoveConfirm.bind(Object(l.a)(e)),e.handleRemoveLater=e.handleRemoveLater.bind(Object(l.a)(e)),e}return Object(i.a)(n,[{key:"handleRemoveConfirm",value:function(e){var t=this.props.onVisibleChange;t&&t(e),this.setState({visible:e})}},{key:"handleRemoveLater",value:function(){var t=this.props.onRemove;return new Promise(function(e){t&&t(),e()})}},{key:"render",value:function(){var e=this.state.visible,t=this.props.confirm;return t?E.a.createElement(T.a.Confirm,Object.assign({},"object"==typeof t?t:{children:t},{onOk:this.handleRemoveLater,visible:e,onVisibleChange:this.handleRemoveConfirm})):null}}]),n}(t.a),b=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){return Object(o.a)(this,n),(e=t.call(this,e)).state={confirm:!1},e.handleRemove=e.handleRemove.bind(Object(l.a)(e)),e.handleRecover=e.handleRecover.bind(Object(l.a)(e)),e.handleConfirmChange=e.handleConfirmChange.bind(Object(l.a)(e)),e}return Object(i.a)(n,[{key:"handleRemove",value:function(){this.props.onRemove(this.props.index)}},{key:"handleRecover",value:function(){var e=this.props,t=e.onRecover,n=e.value;t(e.index,n)}},{key:"handleConfirmChange",value:function(e){this.setState({confirm:e})}},{key:"render",value:function(){var e=this.state.confirm,t=this.props,n=t.renderResult,r=t.value,a=t.recoverAble,o=t.showRecover,t=t.removeConfirm,a=O("view-value",a&&"to-be-delete",e&&"view-active");return E.a.createElement("div",{className:a},E.a.createElement("div",{className:O("text")},n(r)),this.props.onRemove&&E.a.createElement("a",{className:O("delete"),onClick:t?void 0:this.handleRemove},F.a.Close,E.a.createElement(z,{onVisibleChange:this.handleConfirmChange,confirm:t,onRemove:this.handleRemove})),o&&E.a.createElement("a",{className:O("recover"),onClick:this.handleRecover},F.a.Recovery))}}]),n}(d.PureComponent),B=(b.defaultProps={renderResult:function(e){return e},recoverAble:!1},b),g=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){return Object(o.a)(this,n),(e=t.call(this,e)).state={confirm:!1},e.handleRemove=e.handleRemove.bind(Object(l.a)(e)),e.handleRecover=e.handleRecover.bind(Object(l.a)(e)),e.bindImage=e.bindImage.bind(Object(l.a)(e)),e.handlePreview=e.handlePreview.bind(Object(l.a)(e)),e.handleConfirmChange=e.handleConfirmChange.bind(Object(l.a)(e)),e.preview=e.preview.bind(Object(l.a)(e)),e}return Object(i.a)(n,[{key:"showRemove",get:function(){var e=this.props,t=e.onRemove,e=e.renderContent;return t&&e}},{key:"bindImage",value:function(e){this.image=e}},{key:"handleRemove",value:function(){this.props.onRemove(this.props.index)}},{key:"handleRecover",value:function(){var e=this.props,t=e.onRecover,n=e.value;t(e.index,n)}},{key:"handleConfirmChange",value:function(e){this.setState({confirm:e})}},{key:"preview",value:function(){this.image&&this.image.preview()}},{key:"handlePreview",value:function(){var e=this,t=this.props,n=t.onPreview,r=t.renderResult,a=t.value,o=t.index,t=t.values;n?n(r(a),a,o,t,{preview:function(){return e.preview()}}):this.preview()}},{key:"renderOptions",value:function(){var e=this.props.removeConfirm,t=this.state.confirm;return E.a.createElement("div",{className:O("image-options",t&&"image-active")},E.a.createElement("a",{className:O("options-item"),onClick:this.handlePreview},F.a.Preview),this.props.onRemove&&E.a.createElement("a",{className:O("options-item","options-remove"),onClick:e?void 0:this.handleRemove},F.a.Delete,E.a.createElement(z,{onVisibleChange:this.handleConfirmChange,onRemove:this.handleRemove,confirm:e})))}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.renderResult,r=e.recoverAble,a=e.renderContent,o=e.style,i=e.showRecover,l=e.index,e=e.values,r=O("image-item","image-result",r&&"to-be-delete"),n=n(t);return E.a.createElement("div",{style:o,className:r},n&&(a?a(n,t,l,e):E.a.createElement(L.a,{ref:this.bindImage,src:n,href:n,fit:"center",width:"auto",height:0,className:O("image-bg")})),i&&E.a.createElement("a",{className:O("recover"),onClick:this.handleRecover},F.a.Recovery),this.showRemove&&E.a.createElement("span",{className:O("delete"),onClick:this.handleRemove}),!a&&this.renderOptions())}}]),n}(d.PureComponent),M=(g.defaultProps={renderResult:function(e){return e}},g),b=e(40),H=Object(b.a)(),q=H.Provider,V=e(188),W=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){return Object(o.a)(this,n),(e=t.call(this,e)).state={drop:!1},e.handleDrag=e.handleDrag.bind(Object(l.a)(e)),e.handleFileDrop=e.handleFileDrop.bind(Object(l.a)(e)),e}return Object(i.a)(n,[{key:"handleFileDrop",value:function(e){var e=e.dataTransfer.files,t=this.props,n=t.accept,r=t.multiple,a=t.onDrop,t=t.dropData,e=n?Array.prototype.filter.call(e,function(e){return Object(V.a)(e,n)}):e;e&&0!==e.length&&a&&a(r?e:[e[0]],t)}},{key:"handleDrag",value:function(e){this.props.disabled||(e.preventDefault(),e.stopPropagation(),this.setState({drop:"dragover"===e.type}),"drop"===e.type&&this.handleFileDrop(e))}},{key:"render",value:function(){var e=this.state.drop,t=this.props,n=t.children,t=t.className;return this.props.drop?E.a.createElement("span",{className:k()(t,O(e&&"drop")),onDragOver:this.handleDrag,onDragLeave:this.handleDrag,onDrop:this.handleDrag},n):n}}]),n}(E.a.Component),_=(W.defaultProps={drop:!1},e(10)),X=e(36),G=e(90),K=[{key:"size",param:function(e){return e.size}},{key:"ext",param:function(e){e=e.name.split(".");return e[e.length-1]}},{key:"customValidator",param:function(e){return e}}],g=function(e){Object(s.a)(a,e);var t,n,r=Object(c.a)(a);function a(e){var t;return Object(o.a)(this,a),(t=r.call(this,e)).state={files:{},recycle:[]},t.addFile=t.addFile.bind(Object(l.a)(t)),t.bindElement=t.bindElement.bind(Object(l.a)(t)),t.handleAddClick=t.handleAddClick.bind(Object(l.a)(t)),t.removeFile=t.removeFile.bind(Object(l.a)(t)),t.removeValue=t.removeValue.bind(Object(l.a)(t)),t.recoverValue=t.recoverValue.bind(Object(l.a)(t)),t.validatorHandle=t.validatorHandle.bind(Object(l.a)(t)),t.useValidator=t.useValidator.bind(Object(l.a)(t)),t.handleFileDrop=t.handleFileDrop.bind(Object(l.a)(t)),t.handleReplace=t.handleReplace.bind(Object(l.a)(t)),e.validateHook(t.validate.bind(Object(l.a)(t))),t}return Object(i.a)(a,[{key:"getCanDelete",value:function(e,t){var n=this.props.canDelete;return Object(_.isFunc)(n)?n(e,t):n}},{key:"getAction",value:function(e){var t=this.props.action;return"string"==typeof t?t:"function"==typeof t?t(e):""}},{key:"validatorHandle",value:function(e,t){var n=this.props.validatorHandle;return"function"==typeof n?n(e,t):n}},{key:"bindElement",value:function(e){this.input=e}},{key:"handleAddClick",value:function(){this.props.disabled||this.input.click()}},{key:"validate",value:function(){var n=this.state.files;return new Promise(function(e,t){0<Object.keys(n).length&&t(new p.a("")),e(!0)})}},{key:"removeFile",value:function(t){var e=this.props.onErrorRemove,n=this.state.files[t];n&&(n.xhr&&n.xhr.abort&&n.xhr.abort(),this.setState(Object(v.a)(function(e){delete e.files[t]}),function(){3===n.status&&e&&e(n.xhr,n.blob,n)}))}},{key:"removeValue",value:function(t){var n=this,e=this.props,r=e.recoverAble,a=e.disabled,e=e.beforeRemove;a||(a=this.props.value[t],("function"==typeof e?e(a):Promise.resolve()).then(function(){n.setState(Object(v.a)(function(e){e.recycle.push(n.props.value[t]),"number"==typeof r&&e.recycle.length>r&&e.recycle.shift()}));var e=Object(v.a)(n.props.value,function(e){e.splice(t,1)});n.props.onChange(e)}).catch(function(){}))}},{key:"recoverValue",value:function(t,n){this.props.disabled||(this.props.onChange(Object(v.a)(this.props.value,function(e){e.push(n)})),this.setState(Object(v.a)(function(e){e.recycle.splice(t,1)})))}},{key:"useValidator",value:(n=Object(u.a)(h.a.mark(function e(t){var n,r,a,o,i,l,s;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props,n=a.validator,r=a.accept,s=a.forceAccept,a=a.forceAcceptErrorMsg,o=this.state.files,i=null,l=0,!s){e.next=8;break}if(Object(V.a)(t,r)){e.next=8;break}return e.abrupt("return",new Error(a||Object(X.a)("invalidAccept")));case 8:if(!K[l]){e.next=24;break}if("function"==typeof n[(s=K[l]).key])return e.prev=11,e.next=14,function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=e.apply(void 0,n);return a&&"function"==typeof a.then?a:new Promise(function(e,t){a instanceof Error&&t(a),e(!0)})}(n[s.key],s.param(t),o);e.next=21;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(11),i=e.t0 instanceof Error?e.t0:new Error(e.t0);case 19:if(i instanceof Error)return e.abrupt("return",i);e.next=21;break;case 21:l+=1,e.next=8;break;case 24:return e.abrupt("return",null);case 25:case"end":return e.stop()}},e,this,[[11,16]])})),function(e){return n.apply(this,arguments)})},{key:"addFile",value:(t=Object(u.a)(h.a.mark(function e(t){var i,n,r,l,s,c,a,d,p,o,u=this;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props,i=a.beforeUpload,n=a.value,r=a.limit,a=a.filesFilter,l=Object(m.a)({},this.state.files),s=!1,c=(t.fromDragger&&t.files?t:t.target).files,a&&(c=a(Array.from(c))||[]),(a=r-n.length-Object.keys(this.state.files).length)<=0)return e.abrupt("return");e.next=8;break;case 8:d=Array.from({length:Math.min(c.length,a)}),p=h.a.mark(function e(t){var n,r,a,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c[t],r=Object(f.c)(),a={name:n.name,process:-1,status:1,blob:n},l[r]=a,e.next=6,u.useValidator(n);case 6:if(!((o=e.sent)instanceof Error)){e.next=15;break}if(u.validatorHandle(o,a.blob)){e.next=11;break}return delete l[r],e.abrupt("return","continue");case 11:return a.message=o.message,a.status=3,i&&i(n,u.validatorHandle).then(function(t){s?u.setState(Object(v.a)(function(e){e.files[r]=Object.assign({},e.files[r],t)})):l[r]=Object.assign({},l[r],t)}).catch(function(){return!0}),e.abrupt("return","continue");case 15:i?i(n,u.validatorHandle).then(function(t){3!==t.status&&(l[r].xhr=u.uploadFile(r,n,t.data)),s?u.setState(Object(v.a)(function(e){e.files[r]=Object.assign({},e.files[r],t)})):l[r]=Object.assign({},l[r],t)}).catch(function(){s?u.setState(Object(v.a)(function(e){delete e.files[r]})):delete l[r]}):l[r].xhr=u.uploadFile(r,n);case 16:case"end":return e.stop()}},e)}),o=0;case 11:if(o<d.length)return e.delegateYield(p(o),"t0",13);e.next=19;break;case 13:if("continue"===e.t0)return e.abrupt("continue",16);e.next=16;break;case 16:o++,e.next=11;break;case 19:s=!0,this.setState({files:l});case 21:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"uploadFile",value:function(r,a,o){var i=this,e=this.props,l=e.onSuccess,u=e.name,t=e.htmlName,d=e.cors,p=e.params,m=e.withCredentials,h=e.headers,n=e.request,s=e.onProgress,f=e.onStart,e=e.responseType,n=n||y,c=!1,t={url:this.getAction(a),name:t||u,cors:d,params:p,withCredentials:m,file:a,headers:h,responseType:e,onStart:f,onProgress:function(e,t){var n="number"==typeof e.percent?e.percent:e.loaded/e.total*100;c||(c=!0,setTimeout(function(){c=!1},16),i.state.files[r]&&i.setState(Object(v.a)(function(e){e.files[r].process=n,t&&(e.files[r].message=t)}),function(){"function"==typeof s&&s(i.state.files[r])}))},onSuccess:l,onLoad:function(e){var t,n;/^2|1223/.test(e.status)?(n=(n="text"!==e.responseType&&e.responseType?n:e.responseText)||e.response,(n=l?l(n,a,o,e):n)instanceof Error?i.setState(Object(v.a)(function(e){e.files[r].status=3,e.files[r].name=a.name,e.files[r].message=n.message})):(i.setState(Object(v.a)(function(e){delete e.files[r]})),t=Object(v.a)(i.props.value,function(e){e.push(n)}),i.props.onChange(t))):i.handleError(r,e,a)},onError:function(e){return i.handleError(r,e,a)}};return!1!==s&&null!==s||delete t.onProgress,n(t)}},{key:"handleFileDrop",value:function(e){this.addFile({files:e,fromDragger:!0})}},{key:"handleReplace",value:function(e,t){var n=this;this.removeValue(t),setTimeout(function(){n.addFile({files:e,fromDragger:!0})})}},{key:"handleError",value:function(t,e,n){var r=this.props,a=r.onError,r=r.onHttpError,o=e.statusText;a&&(o=a(e,n)),r&&(o=r(e,n)||o),this.setState(Object(v.a)(function(e){e.files[t]&&(e.files[t].status=3,e.files[t].message=o)}))}},{key:"renderHandle",value:function(){var e=this.props,t=e.limit,n=e.value,r=e.children,a=e.accept,o=e.multiple,i=e.disabled,l=e.webkitdirectory,e=e.drop,n=n.length+Object.keys(this.state.files).length;if(0<t&&t<=n)return null;n={multiple:o,addFile:this.addFile,accept:a,disabled:i,limit:t};return E.a.createElement(W,{drop:e,accept:a,disabled:i,onDrop:this.handleFileDrop,multiple:o||1<t},E.a.createElement("span",{className:O("handle",i&&"disabled"),onClick:this.handleAddClick},E.a.createElement(q,{value:n},r),E.a.createElement(U,{webkitdirectory:l,accept:a,ref:this.bindElement,multiple:o,onChange:this.addFile})))}},{key:"render",value:function(){var n=this,e=this.props,u=e.limit,r=e.value,a=e.renderResult,d=e.style,o=e.imageStyle,i=e.recoverAble,t=e.showUploadList,l=e.customResult,p=e.disabled,m=e.renderContent,h=e.accept,f=e.drop,v=e.leftHandler,g=e.onPreview,b=e.removeConfirm,e=e.GapProps,s=this.state,c=s.files,y=s.recycle,s=f&&!o,s=k()(O("_",p&&"disabled",!1===t&&"hide-list",s&&"file-drop"),this.props.className),w=o?P:A,j=o?M:B;if(l)return E.a.createElement("div",{className:s,style:d},this.renderHandle(),E.a.createElement(l,{value:r,files:c,onValueRemove:this.removeValue,onFileRemove:this.removeFile}));l=o?x.a:E.a.Fragment;return E.a.createElement("div",Object.assign({className:s,style:d},Object(G.a)(this.props)),E.a.createElement(l,o?e:null,!o&&this.renderHandle(),o&&v&&this.renderHandle(),t&&r.map(function(e,t){return E.a.createElement(W,{drop:f,multiple:!1,key:t,accept:h,dropData:t,disabled:p,onDrop:n.handleReplace},E.a.createElement(j,{renderContent:m,value:e,values:r,index:t,style:o,renderResult:a,onRemove:n.getCanDelete(e,t)?n.removeValue:void 0,removeConfirm:b,onPreview:g}))}),t&&Object.keys(c).map(function(e){return E.a.createElement(w,Object.assign({},c[e],{key:e,id:e,style:o,onRemove:n.removeFile}))}),o&&!v&&this.renderHandle(),i&&y.map(function(e,t){return E.a.createElement(j,{renderContent:m,key:t,value:e,values:y,index:t,renderResult:a,recoverAble:!!i,showRecover:i&&u>r.length,onRecover:n.recoverValue,style:o})})))}}]),a}(t.b),J=(g.defaultProps={cors:!1,limit:100,recoverAble:!1,validator:{},value:[],withCredentials:!1,showUploadList:!0,validatorHandle:!0,canDelete:!0,GapProps:{column:12,row:12}},R=g,function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.forceAccept,e=e.accept;return E.a.createElement(R,Object.assign({},this.props,{accept:t||e,forceAccept:!!t}))}}]),n}(E.a.PureComponent)),Y=e(14),Z=["className","disabled","urlInvalid","children","style","width","height"],$=["children","width","height","ignorePreview"],b=(w.defaultProps={width:80,height:80},function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){return Object(o.a)(this,n),(e=t.call(this,e)).beforeUpload=e.beforeUpload.bind(Object(l.a)(e)),e.handleMouseDown=e.handleMouseDown.bind(Object(l.a)(e)),e.handleKeyDown=e.handleKeyDown.bind(Object(l.a)(e)),e.state={urlInvalid:!1},e.timeout=null,e}return Object(i.a)(n,[{key:"beforeUpload",value:function(i,l){var s=this;return new Promise(function(n,r){var a=s.props.validator.imageSize,o={},e=new FileReader;e.onload=function(e){var e=e.target.result,t=(o.data=e,new window.Image);t.onerror=function(){s.setState(Object(v.a)(function(e){e.urlInvalid=!0})),r()},t.onload=function(){var e;a&&(e=a(t))instanceof Error&&(l(e,i)||r(),o.status=3,o.message=e.message),n(o)},t.src=e},e.readAsDataURL(i)})}},{key:"handleKeyDown",value:function(e){this.setState({urlInvalid:!1}),13===e.keyCode&&e.target.click()}},{key:"handleMouseDown",value:function(){this.setState({urlInvalid:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.width,a=t.height,o=t.ignorePreview,t=Object(Y.a)(t,$),i=this.state.urlInvalid,r=(i&&(clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.setState({urlInvalid:!1})},3e3)),{width:r,height:a});return E.a.createElement(J,Object.assign({},t,{imageStyle:r,beforeUpload:o?void 0:this.beforeUpload}),E.a.createElement(w,{disabled:this.props.disabled,style:r,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,urlInvalid:i},n),i&&E.a.createElement("div",{style:{width:"100%",position:"relative"}},E.a.createElement("div",{className:O("url-invalid-message")},Object(X.a)("urlInvalidMsg"))))}}]),n}(d.PureComponent)),g=(b.defaultProps={accept:"image/*",height:80,validator:{},width:80},b),Q=e(65),ee=["placeholder","type"],b=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){return Object(o.a)(this,n),(e=t.call(this,e)).state={progress:-1},e.handleError=e.handleError.bind(Object(l.a)(e)),e.handleSuccess=e.handleSuccess.bind(Object(l.a)(e)),e.handleProgress=e.handleProgress.bind(Object(l.a)(e)),e.handleStart=e.handleChange.bind(Object(l.a)(e),0),e.handleOver=e.handleChange.bind(Object(l.a)(e),-1),e.handleUpload=e.handleUpload.bind(Object(l.a)(e)),e}return Object(i.a)(n,[{key:"handleChange",value:function(e){this.setState({progress:e})}},{key:"handleProgress",value:function(e){this.handleChange(e.process)}},{key:"handleError",value:function(e){var t=this.props.onError;t&&t(e),this.handleOver()}},{key:"handleSuccess",value:function(){var e=this.props.onSuccess;e&&e.apply(void 0,arguments),this.handleOver()}},{key:"handleUpload",value:function(e){0<=this.state.progress&&e.stopPropagation()}},{key:"renderLoadingView",value:function(e){var t=this.props,n=t.placeholder,t=t.loading;return Object(d.isValidElement)(t)?E.a.createElement("span",null,t):E.a.createElement("span",null,E.a.createElement("span",{style:{display:"inline-block",marginRight:8}},E.a.createElement(D.a,{size:10,name:"ring",color:e})),"string"==typeof t?t:n)}},{key:"render",value:function(){var e=this.props,t=e.placeholder,n=e.type,e=Object(Y.a)(e,ee),r=0<=this.state.progress,a={right:r?"".concat(100-this.state.progress,"%"):"100%"};return E.a.createElement(J,Object.assign({},e,{limit:void 0,onProgress:this.handleProgress,onStart:this.handleStart,showUploadList:!1,onError:this.handleError,onSuccess:this.handleSuccess}),E.a.createElement(Q.a,{tabIndex:e.disabled?-1:0,disabled:e.disabled,className:O("button",r&&"uploading"),type:n,onClick:this.handleUpload,onKeyDown:j},r&&[E.a.createElement("div",{key:"cover",className:O("cover")}),E.a.createElement("div",{key:"bg",style:a,className:O("bg")},this.renderLoadingView("#fff"))],E.a.createElement("span",null,r?this.renderLoadingView():t)))}}]),n}(t.b),e=(b.defaultProps={type:"primary"},b),b=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){return Object(o.a)(this,n),(e=t.call(this,e)).handleDrop=e.handleDrop.bind(Object(l.a)(e)),e}return Object(i.a)(n,[{key:"getMatchedFile",value:function(){var t=this.props.accept;return Array.prototype.slice.call(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).filter(function(e){return Object(V.a)(e,t)})}},{key:"handleDrop",value:function(e){(0,this.props.addFile)({files:e,fromDragger:!0})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.disabled,r=e.multiple,a=e.limit,e=e.accept;return E.a.createElement(W,{className:O("dragger-wrapper"),drop:!0,disabled:n,multiple:r||1<a,accept:e,onDrop:this.handleDrop},E.a.createElement("div",{className:O("dragger-area",n&&"disabled")},t))}}]),n}(t.b),t=Object(a.a)(J);t.Image=Object(a.a)(g),t.ImageHandler=w,t.Button=Object(a.a)(e),t.Dragger=(C=b,function(t){return E.a.createElement(H.Consumer,null,function(e){return E.a.createElement(C,Object.assign({},t,e))})}),t.displayName="MegacosmUpload",t.Image.displayName="MegacosmImageUpload",t.Button.displayName="MegacosmButtonUpload",t.Dragger.displayName="MegacosmDraggerUpload",r.a=t},507:function(e,t){},509:function(e,t){},510:function(e,t){},511:function(e,t,n){"use strict";function s(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function r(l){return function(){var e=this,i=arguments;return new Promise(function(t,n){var r=l.apply(e,i);function a(e){s(r,t,n,a,o,"next",e)}function o(e){s(r,t,n,a,o,"throw",e)}a(void 0)})}}n.d(t,"a",function(){return r})},512:function(e,t,n){e.exports=n(518)},513:function(e,t){},518:function(t,e,n){t=function(i){"use strict";var s,l=Object.prototype,c=l.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",d=e.asyncIterator||"@@asyncIterator",p=e.toStringTag||"@@toStringTag";function n(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{n({},"")}catch(e){n=function(e,t,n){return e[t]=n}}function m(e,t,n,r){var a,o,i,l,t=t&&t.prototype instanceof y?t:y,t=Object.create(t.prototype),r=new x(r||[]);return t._invoke=(a=e,o=n,i=r,l=f,function(e,t){if(l===g)throw new Error("Generator is already running");if(l===b){if("throw"===e)throw t;return C()}for(i.method=e,i.arg=t;;){var n=i.delegate;if(n){n=function e(t,n){var r=t.iterator[n.method];if(r===s){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=s,e(t,n),"throw"===n.method))return u;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}r=h(r,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,u;r=r.arg;if(!r)return n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,u;{if(!r.done)return r;n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=s)}n.delegate=null;return u}(n,i);if(n){if(n===u)continue;return n}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(l===f)throw l=b,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);l=g;n=h(a,o,i);if("normal"===n.type){if(l=i.done?b:v,n.arg!==u)return{value:n.arg,done:i.done}}else"throw"===n.type&&(l=b,i.method="throw",i.arg=n.arg)}}),t}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}i.wrap=m;var f="suspendedStart",v="suspendedYield",g="executing",b="completed",u={};function y(){}function w(){}function t(){}var e={},a=(n(e,r,function(){return this}),Object.getPrototypeOf),a=a&&a(a(R([]))),o=(a&&a!==l&&c.call(a,r)&&(e=a),t.prototype=y.prototype=Object.create(e));function j(e){["next","throw","return"].forEach(function(t){n(e,t,function(e){return this._invoke(t,e)})})}function E(i,l){var t;this._invoke=function(n,r){function e(){return new l(function(e,t){!function t(e,n,r,a){var o,e=h(i[e],i,n);if("throw"!==e.type)return(n=(o=e.arg).value)&&"object"==typeof n&&c.call(n,"__await")?l.resolve(n.__await).then(function(e){t("next",e,r,a)},function(e){t("throw",e,r,a)}):l.resolve(n).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,a)});a(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function R(t){if(t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(c.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=s,e.done=!0,e}).next=e}return{next:C}}function C(){return{value:s,done:!0}}return n(o,"constructor",w.prototype=t),n(t,"constructor",w),w.displayName=n(t,p,"GeneratorFunction"),i.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},i.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,t):(e.__proto__=t,n(e,p,"GeneratorFunction")),e.prototype=Object.create(o),e},i.awrap=function(e){return{__await:e}},j(E.prototype),n(E.prototype,d,function(){return this}),i.AsyncIterator=E,i.async=function(e,t,n,r,a){void 0===a&&(a=Promise);var o=new E(m(e,t,n,r),a);return i.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},j(o),n(o,p,"Generator"),n(o,r,function(){return this}),n(o,"toString",function(){return"[object Generator]"}),i.keys=function(n){var e,r=[];for(e in n)r.push(e);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},i.values=R,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=s)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=s),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var a=this.tryEntries[t],o=a.completion;if("root"===a.tryLoc)return e("end");if(a.tryLoc<=this.prev){var i=c.call(a,"catchLoc"),l=c.call(a,"finallyLoc");if(i&&l){if(this.prev<a.catchLoc)return e(a.catchLoc,!0);if(this.prev<a.finallyLoc)return e(a.finallyLoc)}else if(i){if(this.prev<a.catchLoc)return e(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return e(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}var o=(a=a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc?null:a)?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,a=this.tryEntries[t];if(a.tryLoc===e)return"throw"===(n=a.completion).type&&(r=n.arg,k(a)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:R(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=s),u}},i}(t.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}}]);